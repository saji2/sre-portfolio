#------------------------------------------------------------------------------
# SRE Portfolio - Production Environment Configuration
#------------------------------------------------------------------------------
# Copy this file to terraform.tfvars and customize values as needed:
#   cp terraform.tfvars.example terraform.tfvars
#------------------------------------------------------------------------------

# General
aws_region   = "ap-northeast-1"
project_name = "sre-portfolio"
environment  = "prod"

# VPC
vpc_cidr             = "10.0.0.0/16"
enable_nat_gateway   = true
single_nat_gateway   = false # Multiple NAT Gateways for HA
enable_vpc_flow_logs = true

# EKS
cluster_version     = "1.32"
node_instance_types = ["t3.medium"]
node_capacity_type  = "ON_DEMAND"
node_disk_size      = 30
node_desired_size   = 3
node_min_size       = 3
node_max_size       = 10

# RDS
rds_engine_version        = "15"
rds_instance_class        = "db.t3.small"
rds_allocated_storage     = 50
rds_max_allocated_storage = 200
rds_database_name         = "taskmanager"
rds_multi_az              = true
rds_skip_final_snapshot   = true
rds_deletion_protection   = false
rds_performance_insights  = true

# Redis
redis_engine_version     = "7.0"
redis_node_type          = "cache.t3.small"
redis_num_cache_clusters = 3
redis_automatic_failover = true
redis_multi_az           = true

# Monitoring
# REQUIRED: alert_email MUST be set for terraform plan/apply to succeed.
# Validation will fail if empty, invalid format, or using placeholder domains (example.com/org/net).
# Replace with your actual ops team email address:
alert_email              = "your-email@your-domain.com"
log_retention_days       = 30
create_cloudwatch_alarms = true

# Helm Charts
install_aws_lb_controller  = true
install_cluster_autoscaler = true
install_metrics_server     = true
