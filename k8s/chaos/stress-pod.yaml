apiVersion: v1
kind: Pod
metadata:
  name: cpu-stress-test
  namespace: app-production
  labels:
    app: chaos-test
    experiment: cpu-stress
spec:
  containers:
    - name: stress
      image: progrium/stress:latest
      command:
        - stress
      args:
        - "--cpu"
        - "2"
        - "--timeout"
        - "300"
      resources:
        requests:
          cpu: 500m
          memory: 64Mi
        limits:
          cpu: "2"
          memory: 128Mi
  restartPolicy: Never
  terminationGracePeriodSeconds: 5
